# Contributing guidelines

> Please note this guide is work in progress!

Thank you showing interest in contributing to this plugin - contributions and suggestions are very welcome.

## Overview

This is a simple monorepo managed by [npm workspaces](https://docs.npmjs.com/cli/v7/using-npm/workspaces) with `typedoc-plugin-markdown` the "core" package. This guide is for developing inside the `typedoc-plugin-markdown` core package.

This guide does not cover TypeDoc specifically so please read https://typedoc.org/guides/development/ for an overview.

## Setup Repository

1. Clone the repository.
2. Checkout the `next` branch.
3. Run `npm install` from the repository root.
4. cd into the package `cd packages/typedoc-plugin-markdown`.

## Developing

To start getting familiar with the code browse the `src` directory:

```
├── src
│   ├── index.ts
│   ├── plugin
│   ├── support
│   └── theme
```

At a highlevel:

- `index.ts` contains the public api and exports the required `load` funtion.
- The `plugin` folder contains functionality to setup the plugin and configure the renderer.
- The `support` folder contains agnostic support helpers used in the plugin.
- The `theme` folder contains the logic that sets up the custom Markdown theme.

Use the command to build the codebase and then run some example docs to the out folder.

```shell
npm run docs
```

Additional stub data can be created in the `../stubs` folder.

Please refer to the [API docs](./docs/api/README.md) for automated documentation generated by TypeDoc and this plugin.

## Testing

Test use the [Jest](https://jestjs.io/) with [ts-jest](https://kulshekhar.github.io/ts-jest/) as the test framework. To run all tests use the following command:

```shell
npm run test
```

Jest snapshots are used quite heavily to compare the output generated from templates. To update the snapshots run with the `update` flag.

## Linting

To run linting on the project use:

```shell
npm run lint
```

Both the code and some example generated markdown are linted using [eslint](https://eslint.org/) and [markdowmlint](https://github.com/DavidAnson/markdownlint) respectively.

## Submitting a PR

Please create a PR with a clear description of what the change is.

If the PR requires a new package release please also create a [changeset](https://github.com/changesets/changesets) which is the tool used for versioning and releasing packages.

Run the changeset command in the project root:

```shell
npx changeset
```

A one line changeset description will be enough but please ensure the correct semantic version is selected `patch` for a bug fix or `minor` for a new feature.

The resulting changeset file will something like this:

```markdown
---
'typedoc-plugin-markdown': patch
---

- A simple description for a patch fix. This message will also appear in the changelog.
```

Please also submit this file with the PR.
